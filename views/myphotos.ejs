<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>나의 사진</title>
    <link rel="stylesheet" type = "text/css" href="myphotos.css"/>
</head>
<body>
    <div class="contents">
        <header>
            <a href="/main"><img src="leftarrow.png" alt="&loarr;"></a>
            <div class="about">나의 사진</div>
            <div class="W_info">
                <!-- 날씨 정보 위에 작게 보여주기 -->
                <div class="temp"><%=weather.temp.toFixed(0)%>&#8451;</div>
                <img class="icon" src="<%=weather.icon%>" alt="<%=weather.weather%>">
            </div>
        </header>
        <main>
            <div id="showPhotos">
                <% if (photos.length == 0) { %>
                    <p>사진이 없습니다.</p>
                <% } else { %>
                    <% for( let i = 0; i < photos.length; i++ ) { %>
                        <div class="image_container" id="<%=photos[i].image_id%>">
                            <img src="./img/<%=photos[i].image_name%>" alt="<%=photos[i].image_name%>">
                        </div>
                    <% } %>
                <% } %>
            </div>
            <!-- 사진 보여주기 -->
            <!-- 사진 없으면 메세지 표시 -->
        </main>
    </div>
</body>

<script>
    // 사진 누르면 detail 페이지로 이동
    let photoEvent = document.getElementsByClassName("image_container");   // array
    
    for (let i = 0; i < photoEvent.length; i ++) {
        photoEvent[i].addEventListener("click", function() {
            // 선택한 사진의 id 값 = image_id
            let chosenPhoto = photoEvent[i].getAttribute("id");

            // detail 페이지로 이동
            location.href = '/photodetail/' + chosenPhoto;
        })
    }
</script>
</html>